
{% extends 'pos/base.html' %}
{% load static %}

{% block title %}Register User - Variety Store POS{% endblock %}

{% block extra_css %}
<style>
    .glass-panel {
        background-color: rgba(255, 255, 255, 0.5);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 1rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    .animate-in {
        animation: fadeIn 0.5s ease-out;
    }
    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-6">
    <div class="glass-panel p-6 animate-in max-w-xl mx-auto">
        <div class="flex justify-between items-center mb-6">
            <h1 class="text-2xl font-bold text-gray-800">Register New User</h1>
            <a href="{% url 'user_list' %}" class="text-[#8B4513] hover:underline flex items-center gap-1">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>
                Back to Users
            </a>
        </div>
        
        <form method="post" class="space-y-6">
            {% csrf_token %}
            
            <div class="space-y-4">
                <h2 class="text-lg font-medium">Account Information</h2>
                
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label for="id_username" class="block text-sm font-medium text-gray-700">Username</label>
                        {{ user_form.username }}
                        {% if user_form.username.errors %}
                        <p class="text-red-500 text-xs mt-1">{{ user_form.username.errors.0 }}</p>
                        {% endif %}
                    </div>
                    
                    <div>
                        <label for="id_email" class="block text-sm font-medium text-gray-700">Email</label>
                        {{ user_form.email }}
                        {% if user_form.email.errors %}
                        <p class="text-red-500 text-xs mt-1">{{ user_form.email.errors.0 }}</p>
                        {% endif %}
                    </div>
                </div>
                
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label for="id_first_name" class="block text-sm font-medium text-gray-700">First Name</label>
                        {{ user_form.first_name }}
                        {% if user_form.first_name.errors %}
                        <p class="text-red-500 text-xs mt-1">{{ user_form.first_name.errors.0 }}</p>
                        {% endif %}
                    </div>
                    
                    <div>
                        <label for="id_last_name" class="block text-sm font-medium text-gray-700">Last Name</label>
                        {{ user_form.last_name }}
                        {% if user_form.last_name.errors %}
                        <p class="text-red-500 text-xs mt-1">{{ user_form.last_name.errors.0 }}</p>
                        {% endif %}
                    </div>
                </div>
                
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label for="id_password1" class="block text-sm font-medium text-gray-700">Password</label>
                        {{ user_form.password1 }}
                        {% if user_form.password1.errors %}
                        <p class="text-red-500 text-xs mt-1">{{ user_form.password1.errors.0 }}</p>
                        {% endif %}
                        <p class="text-xs text-gray-500 mt-1">Password must be at least 8 characters.</p>
                    </div>
                    
                    <div>
                        <label for="id_password2" class="block text-sm font-medium text-gray-700">Confirm Password</label>
                        {{ user_form.password2 }}
                        {% if user_form.password2.errors %}
                        <p class="text-red-500 text-xs mt-1">{{ user_form.password2.errors.0 }}</p>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <div class="space-y-4">
                <h2 class="text-lg font-medium">Profile Information</h2>
                
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label for="id_role" class="block text-sm font-medium text-gray-700">Role</label>
                        {{ profile_form.role }}
                        {% if profile_form.role.errors %}
                        <p class="text-red-500 text-xs mt-1">{{ profile_form.role.errors.0 }}</p>
                        {% endif %}
                    </div>
                    
                    <div>
                        <label for="id_phone" class="block text-sm font-medium text-gray-700">Phone Number</label>
                        {{ profile_form.phone }}
                        {% if profile_form.phone.errors %}
                        <p class="text-red-500 text-xs mt-1">{{ profile_form.phone.errors.0 }}</p>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <div class="flex justify-end pt-4">
                <a href="{% url 'user_list' %}" class="btn btn-outline mr-3">Cancel</a>
                <button type="submit" class="btn btn-primary">Register User</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Apply form-control class to all inputs
        const inputs = document.querySelectorAll('input:not([type="checkbox"]), select, textarea');
        inputs.forEach(input => {
            input.classList.add('form-control');
        });
    });
</script>
{% endblock %}
